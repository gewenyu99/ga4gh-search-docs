<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet type=text/css href=../../../../css/style.css><link rel=stylesheet type=text/css href=../../../../css/page-layouts/content-header.css><link rel=stylesheet type=text/css href=../../../../css/sidebar/style.css><link rel=stylesheet type=text/css href=../../../../css/page-layouts/style.css><link rel=stylesheet type=text/css href=../../../../css/page-layouts/syntax.css><link rel=stylesheet type=text/css href=../../../../css/tabs/style.css><link rel=stylesheet type=text/css href=../../../../css/bootstrap.min.css><link rel=stylesheet href=../../../../override/style.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source Code Pro"><link rel=stylesheet href=../../../../feather-icons/css/iconfont.css><link rel=icon href=../../../../images/favicon.png type=image/x-icon><style>:root{--white: #ffffff;--primary: #fff;--secondary: #1E1F21;--sidebar-bg: #f6f6f8;--sidebar-primary: #1E1F21;--accent: #e34a3a;--grey100: ;--grey200: #F9F9FA;--grey300: ;--grey400: ;--grey500: ;--grey600: #969DAC;--grey700: ;--grey800: ;--grey900: ;--grey-head: #EFEFF3;--nav-highlight: }</style><title>GA4GH Discovery Search API |</title></head><body><div class=sidebar id=sidebar-nav><button id=logo-collapse-btn onclick="(function(){document.getElementById('sidebar-nav').classList.toggle('show');document.getElementById('content').classList.toggle('showing-nav')})()">
<img id=logo src=../../../../images/logo.png alt="GA4GH Discovery Search API"></button><div class="card sidebar-card"><div class=collapse-header><a class=nav-link href=../../../../docs/getting-started/><i class="icon-layers navicon"></i><h3 class="sidebar-h1 mainitem">Quick Start</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../../docs/getting-started/introduction/><h3 class="sidebar-h2 subitem">Introduction</h3></a><a class=nav-link href=../../../../docs/getting-started/provision-data/><h3 class="sidebar-h2 subitem">Provision Data</h3></a><a class=nav-link href=../../../../docs/getting-started/consume-data/><h3 class="sidebar-h2 subitem">Consume Data</h3></a><a class=nav-link href=../../../../docs/getting-started/upload-result/><h3 class="sidebar-h2 subitem">Upload results</h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../../docs/use-exisitng-data/><i class="icon-database navicon"></i><h3 class="sidebar-h1 mainitem">Use Existing Data</h3></a></div><div class="collapse show"><div class=nav-list><a class=nav-link href=../../../../docs/use-exisitng-data/retrofit-a-data-explorer/doc/><h3 class="sidebar-h2 subitem">Retrofit data explorers</h3></a><a class=nav-link href=../../../../docs/use-exisitng-data/tables-in-a-bucket/doc/><h3 class="sidebar-h2 subitem">Tables-in-a-bucket</h3></a><a class=nav-link href=../../../../docs/use-exisitng-data/using-preso/doc/><h3 class="sidebar-h2 subitem">Using Presto</h3></a><a class=nav-link href=../../../../docs/use-exisitng-data/usecase/usecase/><h3 class="sidebar-h2 nav-highlight subitem" id=scrollto></h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../../docs/security/><i class="icon-shield navicon"></i><h3 class="sidebar-h1 mainitem">Security</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../../docs/security/data-source/><h3 class="sidebar-h2 subitem">At the data source</h3></a><a class=nav-link href=../../../../docs/security/search-endpoint/><h3 class="sidebar-h2 subitem">At the search endpoint</h3></a></div></div><div class=collapse-header><a class=nav-link href=../../../../docs/reference/><i class="icon-book navicon"></i><h3 class="sidebar-h1 mainitem">Implementation</h3></a></div><div class=collapse><div class=nav-list><a class=nav-link href=../../../../docs/reference/pagination-long-queries/><h3 class="sidebar-h2 subitem">Pagination and Long Running Queries</h3></a><a class=nav-link href=../../../../docs/reference/sql-functions/><h3 class="sidebar-h2 subitem">SQL Functions</h3></a><a class=nav-link href=../../../../docs/reference/sql-grammar/><h3 class="sidebar-h2 subitem">SQL Grammar</h3></a></div></div></div></div><div class=content id=content><div class=content-header><div id=search-input-div><button class=search-button id=search-button data-toggle=modal data-target=#search-input-modal onclick=setFocusToTextBox()><h3 class=search-button-text><i class="icon-search search-icon"></i>Find anything</h3></button><div class="modal search" id=search-input-modal><div id=search-input-modal class=modal-dialog><div id=search-input-div class=modal-content><input id=search-input type=text placeholder name=search autocomplete=off>
<span class=focus-border></span><section id=search-results class=search></section></div></div></div></div><div class=content-header-nav><a class=content-header-nav-link href=../../../../api><i class=icon-code></i><span>Open API 3 Reference</span></a>
<a class=content-header-nav-link href=https://github.com/ga4gh-discovery/ga4gh-search><i class=icon-github></i><span>Doc Source</span></a>
<a class=content-header-nav-link href=https://github.com/ga4gh-discovery/><i class=icon-github></i><span>Discovery Workstream</span></a></div></div><div class=text-area><h2></h2><h1 id=introduction>Introduction</h1><p>This document attempts to summarize search use cases collected from key driver
projects and other interested parties. The information was collected from
three primary sources:</p><ul><li><p>A questionnaire that collected answers to a series of curated questions (2
responses)</p></li><li><p>A feature matrix spreadsheet that indexed various high level features against
interested driver projects (6 driver projects commented on at least one
feature in the matrix)</p></li><li><p>A &ldquo;suggested queries&rdquo; document that collected high level queries that are of
interest (6 groups replied to this document providing 19 queries)</p></li></ul><p>If you contributed to one of these sources and feel that your feedback was
either missed or misrepresented here, or contributed via another channel that
was not captured, please reach out to us at <a href=mailto:ga4gh-discovery-search@ga4gh.org>ga4gh-discovery-search@ga4gh.org</a>.</p><h1 id=key-themes>Key themes</h1><h2 id=multimodal-queries>Multimodal queries</h2><p>In nearly all cases, the responses indicate a desire to link variant data with
phenotypic or clinical data. Only a few responses indicate a desire to query
over simple variant data (retrieving counts and allele/genotype frequency for a
variant) and even then it is a step along a path to a patient or cohort.</p><p>All responses to the feature matrix rated this as &ldquo;must have&rdquo;.</p><p>See the section on data types below for more information.</p><h2 id=controlled-access>Controlled Access</h2><p>Most responses indicate some kind of requirement for controlled access,
including tiers of access ranging from public to tightly controlled by per
sample consent terms. Although configuration of access control is outside the
scope of the GA4GH Search API, considerations may need to be made for expressing
these concepts in queries and responses.</p><h2 id=complex-matching>Complex Matching</h2><p>In some cases (positional data for example) exact or simple fuzzy matching is
desired but for phenotypic matching needs to be performed using custom rules
and/or based on distances within an ontology hierarchy.</p><p>Other potentially interesting matching/filtering modes mentioned include:</p><ul><li>returning results for only de novo variants</li><li>matching against mutational burden</li><li>filtering for rare diseases using gnomAD</li><li>“abnormal” RNA expression of a particular gene</li><li>generating a confusion matrix between two groups of individuals</li></ul><p>&ldquo;Custom functions&rdquo; were identified as &ldquo;nice to have&rdquo; (4) and &ldquo;don&rsquo;t know&rdquo; (2).</p><p>Ben Hutten notes some thoughts on the topic of matching in the <a href=https://github.com/ga4gh/mme-apis/wiki/Phenotype-matching>MME
repository</a>.</p><h2 id=aggregation-grouping-and-sorting>Aggregation, Grouping and Sorting</h2><p>Responses were mixed on the topic of aggregation. Responses on the topic of
&ldquo;Aggregate functions (eg. minimum, maximum, average) range from &ldquo;not needed&rdquo;
(1), &ldquo;nice to have&rdquo; (3) to &ldquo;must have&rdquo; (2). There is a division here around
whether this sort of operation should be performed at query time or after the
results are generated. One important point of consideration is that in some
cases data may be available to a particular user only in aggregate meaning that
it must be performed as part of the query.</p><p>The closely related feature of grouping (for example, counting the number of
variants grouped by gene) was rated as &ldquo;not needed&rdquo; (3), &ldquo;nice to have&rdquo; (1) and
&ldquo;must have&rdquo; (2) by respondents.</p><p>Sorting, or the related concept of ranking, was rated as either &ldquo;not needed&rdquo;
(2) or &ldquo;must have&rdquo; (2) by respondents.</p><h2 id=data-types>Data types</h2><p>The GA4GH Search API is not expected to define data types, but it will be important
that some shared vocabulary are available to facilitate federated queries.</p><p>All responses in the feature matrix indicated that the availability of a
standard set of fields is &ldquo;nice to have&rdquo; or &ldquo;must have&rdquo;, while the ability to
have arbitrary non-standard fields is a &ldquo;must have&rdquo;.</p><p>Data type mentioned in the responses include:</p><ul><li>Variant</li><li>Age</li><li>Sex</li><li>HPO terms</li><li>Contact information</li><li>Method of inheritance</li><li>Consent types (eg, to find patients with data consented for a particular use)</li><li>Various associated clinical data and/or assessments</li></ul><p>In terms of how to represent these types in the API, there are a few
suggestions:</p><ul><li>Schema Blocks from GA4GH</li><li>schema.org from W3C and the related DCAT project</li><li>DATS (a joint collaboration funded by NIH)</li></ul><h1 id=caveats>Caveats</h1><h2 id=small-number-of-responses>Small number of responses</h2><p>This summary was produced from a relatively small amount of response data, and
the individual responses were often collected against an evolving document. In
particular, the feature matrix doubled in size between some responses, and the
questionnaire was changed completely between the two responses.</p><h2 id=lack-of-clarity-in-feature-definitions>Lack of clarity in feature definitions</h2><p>The items expressed in the feature matrix are not fully defined, leaving their
interpretation up to the reader. In some cases, respondents added comments to
try to clarify how they interpreted the feature.</p><h1 id=open-questions>Open Questions</h1><p>If you have an answer to one of these questions, please either file an issue,
open a PR against this document or reach out to the list at
<a href=mailto:ga4gh-discovery-search@ga4gh.org>ga4gh-discovery-search@ga4gh.org</a>.</p><ul><li>How exactly are fuzzy matches for phenotypes being performed today? For
example: this term and up the tree, this term and down the tree, other well
defined functions or something completely custom?</li></ul></div></div><script src=../../../../js/jquery-3.5.1.min.js></script><script src=../../../../js/bootstrap.min.js></script><script src=https://unpkg.com/lunr/lunr.js></script><script>document.getElementById("scrollto").scrollIntoView(true);</script><script type=text/javascript>var idx,searchInput,searchResults=null
var documents=[]
function renderSearchResults(results){if(results.length>0){if(results.length>9){results=results.slice(0,10)}
searchResults.innerHTML=''
results.forEach(result=>{var article=document.createElement('article')
var uri="/ga4gh-search-docs"+result.ref.replace("/index.json","")
article.innerHTML=`
            <a href="${uri}" class="search-result-item"><p class="search-result-title">${documents[result.ref].title}</p> <i class="icon-external-link"></i></a>
            `
searchResults.appendChild(article)})}else{searchResults.innerHTML='<p>No results found.</p>'}}
function registerSearchHandler(){searchInput.oninput=function(event){if(searchInput.value==''){searchResults.innerHTML=''}else{var query=event.target.value
var results=idx.search(query+'*')
renderSearchResults(results)}}
searchInput.focus()
searchInput.placeholder=''}
$('#search-input-modal').on('shown.bs.modal',function(){$('#search-input').trigger('focus')})
window.onload=function(){searchInput=document.getElementById('search-input')
searchResults=document.getElementById('search-results')
fetch('/ga4gh-search-docs/docs/index.json',{method:'get'}).then(res=>res.json()).then(res=>{idx=lunr(function(){this.ref('url')
this.field('title')
this.field('content')
res.forEach(function(doc){this.add(doc)
documents[doc.url]={'title':doc.title,'content':doc.content,}},this)})
registerSearchHandler()}).catch(err=>{searchResults.innerHTML=`<p>${err}</p>`})}</script></body></html>